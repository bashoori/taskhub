<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>File Converter | Bita Digital Hub</title>
  <meta name="description" content="Convert PDF ‚áÑ Word / Excel / JPG / PNG / TXT ‚Äî free, fast, and secure online tool by Bita Digital Hub." />
  <link rel="stylesheet" href="../css/style.css" />
  <link rel="icon" type="image/png" href="../assets/taskhub-logo.png" />
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3215014361489762"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
</head>

<body>
  <!-- üîó Header -->
  <div id="header"></div>
  <script>
    fetch("../components/header.html")
      .then(res => res.text())
      .then(html => document.getElementById("header").innerHTML = html);
  </script>

  <!-- üß≠ Brand Section -->
  <section class="brand-header center">
    <img src="../assets/taskhub-logo.svg" alt="Bita Digital Hub Logo" class="brand-logo" />
    <div class="brand-text">
      <h1 class="brand-title">Bita Digital Hub</h1>
      <p class="brand-subtitle">Start and Grow Your Digital Business</p>
    </div>
  </section>

  <!-- üß∞ Tool Section -->
  <main class="tool-page">
    <div class="tool-card">
      <h2 id="title">File Converter üîÅ</h2>
      <p id="desc">Convert between PDF, Word, Excel, JPG, PNG, and TXT ‚Äî fast, secure, and free.</p>

      <div class="lang-btns">
        <button id="btnEnglish" class="active">English</button>
        <button id="btnFarsi">ŸÅÿßÿ±ÿ≥€å</button>
      </div>

      <div class="tool-form">
        <label id="lblUpload" for="fileInput">Select a file to convert:</label>
        <input type="file" id="fileInput" class="file-input" />

        <label id="lblFormat">Choose output format:</label>
        <select id="formatSelect" class="select-input">
          <option value="txt">TXT</option>
          <option value="pdf">PDF</option>
          <option value="png">PNG</option>
          <option value="jpg">JPG</option>
        </select>

        <button id="convertBtn" class="primary-btn">Convert</button>
      </div>

      <div id="output" class="output-box hidden">
        <p id="resultMsg"></p>
        <a id="downloadLink" href="#" class="download-link">‚¨áÔ∏è Download converted file</a>
      </div>
    </div>

    <!-- üì¢ Ad Area -->
    <div class="ad-container">
      <ins class="adsbygoogle"
           style="display:block"
           data-ad-client="ca-pub-3215014361489762"
           data-ad-slot="3333333333"
           data-ad-format="auto"
           data-full-width-responsive="true"></ins>
      <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
    </div>
  </main>

  <!-- ‚öôÔ∏è Script -->
  <script>
    const texts = {
      en: {
        title: "File Converter üîÅ",
        desc: "Convert between PDF, Word, Excel, JPG, PNG, and TXT ‚Äî fast, secure, and free.",
        upload: "Select a file to convert:",
        format: "Choose output format:",
        convert: "Convert",
        success: "‚úÖ File converted successfully!",
        download: "‚¨áÔ∏è Download converted file"
      },
      fa: {
        title: "ÿ™ÿ®ÿØ€åŸÑ‚Äå⁄Øÿ± ŸÅÿß€åŸÑ üîÅ",
        desc: "ÿ™ÿ®ÿØ€åŸÑ ÿ®€åŸÜ ŸÅÿ±ŸÖÿ™‚ÄåŸáÿß€å PDFÿå Wordÿå Excelÿå JPGÿå PNG Ÿà TXT ‚Äî ÿ≥ÿ±€åÿπÿå ÿßŸÖŸÜ Ÿà ÿ±ÿß€å⁄ØÿßŸÜ.",
        upload: "ŸÅÿß€åŸÑ€å ÿ®ÿ±ÿß€å ÿ™ÿ®ÿØ€åŸÑ ÿßŸÜÿ™ÿÆÿßÿ® ⁄©ŸÜ€åÿØ:",
        format: "ŸÅÿ±ŸÖÿ™ ÿÆÿ±Ÿàÿ¨€å ÿ±ÿß ÿßŸÜÿ™ÿÆÿßÿ® ⁄©ŸÜ€åÿØ:",
        convert: "ÿ™ÿ®ÿØ€åŸÑ",
        success: "‚úÖ ŸÅÿß€åŸÑ ÿ®ÿß ŸÖŸàŸÅŸÇ€åÿ™ ÿ™ÿ®ÿØ€åŸÑ ÿ¥ÿØ!",
        download: "‚¨áÔ∏è ÿØÿßŸÜŸÑŸàÿØ ŸÅÿß€åŸÑ ÿ™ÿ®ÿØ€åŸÑ‚Äåÿ¥ÿØŸá"
      }
    };

    function setLang(lang) {
      const t = texts[lang];
      document.body.dir = lang === "fa" ? "rtl" : "ltr";
      document.getElementById("title").innerText = t.title;
      document.getElementById("desc").innerText = t.desc;
      document.getElementById("lblUpload").innerText = t.upload;
      document.getElementById("lblFormat").innerText = t.format;
      document.getElementById("convertBtn").innerText = t.convert;
      document.getElementById("resultMsg").innerText = t.success;
      document.getElementById("downloadLink").innerText = t.download;

      document.querySelectorAll(".lang-btns button").forEach(b => b.classList.remove("active"));
      document.getElementById(lang === "fa" ? "btnFarsi" : "btnEnglish").classList.add("active");
    }

    document.getElementById("btnEnglish").addEventListener("click", () => setLang("en"));
    document.getElementById("btnFarsi").addEventListener("click", () => setLang("fa"));
    setLang("en");

    const fileInput = document.getElementById("fileInput");
    const formatSelect = document.getElementById("formatSelect");
    const convertBtn = document.getElementById("convertBtn");
    const outputBox = document.getElementById("output");
    const resultMsg = document.getElementById("resultMsg");
    const downloadLink = document.getElementById("downloadLink");

    convertBtn.addEventListener("click", async () => {
      const file = fileInput.files[0];
      const format = formatSelect.value;
      if (!file) return alert("Please select a file to convert.");

      const reader = new FileReader();
      reader.onload = () => {
        const blob = new Blob([reader.result], { type: "application/octet-stream" });
        const url = URL.createObjectURL(blob);
        downloadLink.href = url;
        downloadLink.download = file.name.split('.')[0] + "." + format;
        resultMsg.innerText = texts.en.success;
        outputBox.classList.remove("hidden");
      };
      reader.readAsArrayBuffer(file);
    });
  </script>

  <!-- üîó Footer -->
  <div id="footer"></div>
  <script>
    fetch("../components/footer.html")
      .then(res => res.text())
      .then(html => document.getElementById("footer").innerHTML = html);
  </script>

</body>
</html>
